@model CreateOrEditViewModel

@{
}

<div>
    @if (Model.Create)
    {
        <h1 class="mb-4" style="text-align: center">Create your own event !</h1>
    }
    else
    {
        <h1 class="mb-4" style="text-align: center">Edit your event !</h1>
    }

    @using (Html.BeginForm("CreateEvent", "Home", FormMethod.Post))
    {
        <div class="form-group row justify-content-center">
            <label class="col-sm-3 col-form-label font-weight-bold" for="eventName">Name of the event</label>
            <div class="col-sm-5">
                @{
                    var prefillName = String.IsNullOrEmpty(Model.EventUi.Name) ? "" : Model.EventUi.Name;
                }
                <input type="text" class="form-control" id="eventName" name="eventName" value="@Model.eventName" placeholder="Enter the name of your event">
            </div>
        </div>

        <div class="form-group row justify-content-center">
            <label class="col-sm-3 col-form-label font-weight-bold" for="organiserName">Name of the organiser</label>
            <div class="col-sm-5">
                @{
                    var prefillOrganizer = String.IsNullOrEmpty(Model.EventUi.Organizer) ? "" : Model.EventUi.Organizer;
                }
                <input type="text" class="form-control" id="organiserName" name="organiserName" value="@Model.organiserName" placeholder="Enter the name of the organiser">
            </div>
        </div>

        <div class="form-group row justify-content-center">
            <label class="col-sm-3 col-form-label font-weight-bold" for="startDate">Start date of the event</label>
            <div class="col-sm-5">
                @{
                    var prefillStartDate = Model.EventUi.StartDate == default(DateTime) ? DateTime.Now : Model.EventUi.StartDate;
                }
                <input type="datetime-local" class="form-control" id="startDate" name="startDate" value="@Model.startDate" placeholder="Enter the starting date of the event">
            </div>
        </div>

        <div class="form-group row justify-content-center">
            <label class="col-sm-3 col-form-label font-weight-bold" for="endingDate">End date of the event</label>
            <div class="col-sm-5">
                @{
                    var prefillEndDate = Model.EventUi.EndDate == default(DateTime) ? DateTime.Now.AddDays(1) : Model.EventUi.EndDate;
                }
                <input type="datetime-local" class="form-control" id="endingDate" name="endDate" value="@Model.endDate" placeholder="Enter the ending date of the event">

            </div>
        </div>

        <div class="form-group row justify-content-center">
            <label class="col-sm-3 col-form-label font-weight-bold" for="categories">Category</label>
            <div class="col-sm-5">
                @*// Un peu galere de preset la categorie*@
                <select class="form-control" id="categories" name="category">
                    <option>Concert</option>
                    <option>OpenAir</option>
                    <option>Conference</option>
                </select>
            </div>
        </div>

        <div class="form-group row justify-content-center">
            <label class="col-sm-3 col-form-label font-weight-bold" for="numberPlaces">Number of places</label>
            <div class="col-sm-5">
                @{
                    var prefillPlaces = Model.EventUi.Capacity == 0 ? 0 : Model.EventUi.Capacity;
                }
                <input type="number" class="form-control" id="numberPlaces" name="numberPlaces" value="@Model.numberPlaces" placeholder="Enter the number of places for the event">
            </div>
        </div>

        <div class="form-group row justify-content-center">
            <label class="col-sm-3 col-form-label font-weight-bold" for="location">Location of the event</label>
            <div class="col-sm-5">
                @{
                    var prefillLocation = String.IsNullOrEmpty(Model.EventUi.Location) ? "" : Model.EventUi.Location;
                }
                <input type="text" class="form-control" id="location" name="location" value="@Model.location" placeholder="Enter the location of the event">
            </div>
        </div>

        <div class="form-group row justify-content-center">
            <label class="col-sm-3 col-form-label font-weight-bold" for="description">Description of the event</label>
            <div class="col-sm-5">
                @{
                    var prefillDescription = String.IsNullOrEmpty(Model.EventUi.Description) ? "" : Model.EventUi.Description;
                }
                <textarea maxlength="500" class="form-control" id="description" name="description" value="@Model.description" aria-describedby="descriptionHelp" rows="6"></textarea>
                <small id="descriptionHelp" class="form-text text-muted">Maximum of 500 characters</small>
            </div>
        </div>

        <div class="form-group row justify-content-center">
            <label class="col-sm-3 col-form-label font-weight-bold" for="image">Image</label>
            <div class="col-sm-5">
                @*// Aucune idee de comment preset le nom du fichier*@
                <input type="file" id="image" name="image">
            </div>
        </div>

        @if (Model.Create)
        {
            <input class="btn btn-primary btn-lg" value="Create the event" type="submit" />
        }
        else
        {
            <input class="btn btn-primary btn-lg" value="Edit the event" formaction="Home/EditEvent" type="submit" />
            <input value="@Model.EventUi.Id" name="eventId" style="display: none" />
        }
    }

</div>

